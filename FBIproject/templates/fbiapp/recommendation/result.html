{% extends 'fbiapp/base.html' %}
{% load static %}

{% block content %}

<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

<!-- Wrapper -->
<div id="wrapper">
    <!-- Header -->
        <header id="header">
            <div id="chart-carousel" class="carousel slide" data-ride="carousel">
 
                <!-- Wrapper for slides -->
                <div class="carousel-inner">
                  <div class="carousel-item active">  
                    <canvas id="chartContainer1" class="chart" style="width:100%; height:600px;"></canvas>
                  </div>
                  <div class="carousel-item">
                    <canvas id="chartContainer2" class="chart" style="width:100%; height:600px;"></canvas>
                  </div>
                  <div class="carousel-item">
                   <canvas id="chartContainer3" class="chart" style="width:100%; height:600px;"></canvas>
                  </div>
                  <div class="carousel-item">
                    <canvas id="chartContainer4" class="chart" style="width:100%; height:600px;"></canvas>
                  </div>
                  <div class="carousel-item">
                   <canvas id="chartContainer5" class="chart" style="width:100%; height:600px;"></canvas>
                  </div>
                </div>
               
               <!-- Left and right controls -->
                <a class="carousel-control-prev" href="#chart-carousel" data-slide="prev">
                  <span class="carousel-control-prev-icon"></span>
                </a>
                <a class="carousel-control-next" href="#chart-carousel" data-slide="next">
                  <span class="carousel-control-next-icon"></span>
                </a>
              </div> <!-- Carousel -->
        </header>
    <!-- Footer -->
        <footer id="footer">
            <p class="copyright">&copy; 충북대학교 소프트웨어학과 캡스톤디자인 16팀 스쿨피자 <a href="https://github.com/SchoolPizza">Github</a>.</p>
        </footer>
</div>

<script type="text/javascript">

    // 차트 x label 
    labels=  ["냄새", "생리통", "생리량", "신체활동", "실내활동"]
    // 차트 데이터 - view에서 넘겨주는 변수 
    var chartData1 = {{ datasets1 }}
    var chartData2 = {{ datasets2 }}
    var chartData3 = {{ datasets3 }}
    var chartData4 = {{ datasets4 }}
    var chartData5 = {{ datasets5 }}

    var charts = [];
    var chart, width, width;
    
    width = $('#chart-carousel').width();
    height = $('#chart-carousel').height();

    $('.carousel').carousel({
        interval: 2000
    });

    // 차트 1번 
    chart = new Chart(document.getElementById("chartContainer1"), {
        type: 'bar',
        data: {
            labels: labels,
            datasets: [{ 
                label: "항목",
                backgroundColor: ["red", "yellow", "green", "blue", "purple"],
                data: chartData1
            }]
        }, 
        options: {
            legend: { display: false },
            title: {
                display: true,
                text: "input에 해당하는 추천 결과 입니다.",
            },
        },
    });
    chart.render();
    charts.push(chart);
    
    // // 차트 2번 
    chart = new Chart(document.getElementById("chartContainer2"), {
        type: 'bar',
        data: {
            labels: labels,
            datasets: [{ 
                label: "항목",
                backgroundColor: ["red", "yellow", "green", "blue", "purple"],
                data: chartData2
            }]
        }, 
        options: {
            legend: { display: false },
            title: {
                display: true,
                text: "input에 해당하는 추천 결과 입니다.",
            },
        },
    });
    chart.render();
    charts.push(chart);
    
    // // 차트 3번 
    chart = new Chart(document.getElementById("chartContainer3"), {
        type: 'bar',
        data: {
            labels: labels,
            datasets: [{ 
                label: "항목",
                backgroundColor: ["red", "yellow", "green", "blue", "purple"],
                data: chartData3
            }]
        }, 
        options: {
            legend: { display: false },
            title: {
                display: true,
                text: "input에 해당하는 추천 결과 입니다.",
            },
        },
    });
    chart.render();
    charts.push(chart);
    
    // // 차트 4번 
    chart = new Chart(document.getElementById("chartContainer4"), {
        type: 'bar',
        data: {
            labels: labels,
            datasets: [{ 
                label: "항목",
                backgroundColor: ["red", "yellow", "green", "blue", "purple"],
                data: chartData4
            }]
        }, 
        options: {
            legend: { display: false },
            title: {
                display: true,
                text: "input에 해당하는 추천 결과 입니다.",
            },
        },
    });
    chart.render();
    charts.push(chart);
    
    // // 차트 5번 
    chart = new Chart(document.getElementById("chartContainer5"), {
        type: 'bar',
        data: {
            labels: labels,
            datasets: [{ 
                label: "항목",
                backgroundColor: ["red", "yellow", "green", "blue", "purple"],
                data: chartData5
            }]
        }, 
        options: {
            legend: { display: false },
            title: {
                display: true,
                text: "input에 해당하는 추천 결과 입니다.",
            },
        },
    });
    chart.render();
    charts.push(chart);

    $(window).resize(function() {
    for(var i = 0; i < charts.length; i++) {
        charts[i].options.width = $('.carousel').width();
        charts[i].options.height = $('.carousel').height();
        charts[i].render();
    }
});
    


</script>

<!-- BG -->
    <div id="bg"></div>


{% endblock content %}